{{ define "documentation-menu" }}

{{ $currentPage := . }}
{{ $menu := .Params.menu_name }}
<!-- kubeDB bottom menu start -->
<div class="kubedb-documentation-menu">
  <div class="container section">
    <!-- documentation menu area start -->
    <div class="documentation-menu">
      <div class="container section">
        <div class="columns is-centered">
          <div class="column is-half has-text-centered">
            <!-- responsive menu start -->
            <div class="responsive-menu">
              <a
                role="button"
                class="navbar-burger burger"
                aria-label="menu"
                aria-expanded="false"
                data-target="acNav3"
              >
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
              </a>
            </div>
            <!-- responsive menu end -->
            <!-- start -->
            <nav class="documentation-navbar">
              <div id="acNav3" class="navbar-menu nav-menu main-menu">
                <div class="navbar-centered">
                  <!-- nav menu start -->
                  <div class="navbar-start">
                    {{ $sectionMenuId := .Params.section_menu_id }}
                    {{ if isset .Params "menu_name" }}
                      {{ range (index .Site.Menus .Params.menu_name) }}
                        {{ if eq (string .Pre) "dropdown" }}
                          <div class="navbar-item has-dropdown ac-is-hoverable">
                            <a class="navbar-link">
                              {{ .Name }}
                            </a>
                            <div class="ac-dropdown">
                              {{ range .Children }}
                                {{ if ne .Weight -1 }}
                                  <a href="{{ .URL }}" class="navbar-item">{{ .Name }}</a>
                                {{ end }}
                              {{ end }}
                            </div>
                          </div>
                        {{ else }}
                          <a href="{{ .URL }}" class="{{ if eq $sectionMenuId .Identifier }} is-active {{ end }} navbar-item">{{ .Name }}</a>
                        {{ end }}
                      {{ end }}
                    {{ end }}
                  </div>
                  <!-- nav menu end -->
                </div>
              </div>
            </nav>
            <!-- end -->
          </div>
        </div>
      </div>
    </div>
    <!-- documentation menu area end -->
  </div>
</div>
<!-- kubeDB bottom menu end -->
{{ end }}

{{ define "main" }}

{{ $currentPage := . }}
{{ $menu := .Params.menu_name }}
{{ $productJson := (index $.Site.Data.products.products "docs" ) }}
{{ $latestVersion:= (index $.Site.Data.products.products.docs "latestVersion") }}

<!-- init idx -->
{{ .Scratch.Add "idx" 0 }}

<!-- documentation area start -->
<div class="documentation-area">
  <div class="container section">
    <div class="columns">
      <div class="column is-3">
        <!-- left sidebar area start -->
        <div class="kd-left-sidebar">

          <div class="trial-button">
            <a href="/docs/{{ $latestVersion }}/setup/" class="button is-fullwidth">
              Try Now for FREE!
            </a>
          </div>

          <div class="kd-version">
            {{ $currentBranch := (index (split .Params.menu_name "_") 1) }}
            {{ $versions := (index $productJson "versions" ) }}

            <div class="dropdown">
              <div class="dropdown-trigger">
                <button
                  class="button is-fullwidth"
                  aria-haspopup="true"
                  aria-controls="dropdown-menu3"
                >

                  {{ range $version := $versions }}
                    {{ $branch := (index $version "branch") }}
                    {{ if (index $version "v-dropdown") }}
                      {{ if and (index $version "hostDocs") (eq $branch $currentBranch) }}
                        <span><strong class="icon"><i class="fa fa-cog" aria-hidden="true"></i></strong>{{ $branch }}</span>
                      {{ if eq $branch $latestVersion }}
                        <span class="tag">Latest</span>
                      {{ end }}
                      {{ end }}
                    {{ end }}
                  {{ end }}

                  <span class="icon is-small">
                    <i class="fa fa-angle-down" aria-hidden="true"></i>
                  </span>
                </button>
              </div>
              <div class="dropdown-menu" id="dropdown-menu3" role="menu">
                <div class="dropdown-content">
                  {{ range $version := $versions }}
                    {{ $branch := (index $version "branch") }}
                    {{ if (index $version "v-dropdown") }}
                      {{ if (index $version "hostDocs") }}
                        <a href="/docs/{{ $branch }}/" class="dropdown-item">{{ $branch }}  {{ if eq $branch $latestVersion }} <div class="tag">Latest</div> {{ end }}</a>
                      {{ else }}
                        <a href="https://github.com/{{ index $productJson "docRepo" }}/tree/{{ $branch }}/docs" target="_blank" class="dropdown-item">{{ $branch }}</a>
                      {{ end }}
                    {{ end }}
                  {{ end }}
                </div>
              </div>
            </div>
          </div>

          {{ if isset .Params "menu_name" }}
            {{ $sectionMenuId := .Params.section_menu_id }}
            {{ range (index .Site.Menus .Params.menu_name) }}
              {{ if eq $sectionMenuId .Identifier }}
                {{ if .HasChildren }}
                  {{ $hasPreDropdown := eq (string .Pre) "dropdown" }}

                  {{ $.Scratch.Set "leftMenuHeadline" .Name }}
                  {{ range .Children }}
                    {{ if and ( and .HasChildren $hasPreDropdown) ($currentPage.HasMenuCurrent $menu .)  }}

                      {{ $.Scratch.Set "leftMenuHeadline" .Name }}

                    {{ end }}
                  {{ end }}
                {{ end }}
              {{ end }}
            {{ end }}
          {{ end }}

          <!-- sidebar menu start -->
          <div class="kd-sidebar-menu">
            {{ if isset .Params "menu_name" }}
              {{ $sectionMenuId := .Params.section_menu_id }}

              <!-- first child -> section menu -->
              {{ range (index .Site.Menus .Params.menu_name ) }}

                {{ if eq $sectionMenuId .Identifier }}
                  {{ $hasPreDropdown := eq (string .Pre) "dropdown" }}

                  <!-- second child -> left menu level 1-->
                  {{ range .Children }}

                    {{ if .HasChildren }}
                      {{ if $hasPreDropdown }}
                        {{ if $currentPage.HasMenuCurrent $menu . }}

                            {{ range .Children }}
                              {{ if .HasChildren }}
                                {{ partial "menu/group.html" (dict "uid" $.File.UniqueID "page" $currentPage "menu" $menu "entry" .) }}
                              {{ else }}
                                {{ partial "menu/leaf.html" (dict "uid" $.File.UniqueID "page" $currentPage "menu" $menu "entry" .) }}
                              {{ end }}
                            {{ end }}

                        {{ end }}
                      {{ else }}
                        {{ partial "menu/group.html" (dict "uid" $.File.UniqueID "page" $currentPage "menu" $menu "entry" .) }}
                      {{ end }}

                    {{ else }}
                      {{ partial "menu/leaf.html" (dict "uid" $.File.UniqueID "page" $currentPage "menu" $menu "entry" .) }}
                    {{ end }}
                    <!-- end of menu item rendering -->
                  {{ end }}
                  <!-- end second child -> left level 1-->

                {{ end }}
              {{ end }}
              <!-- end first child -> section menu -->
            {{ end }}
          </div>
          <!-- sidebar menu end -->
        </div>
        <!-- left sidebar area end -->
      </div>
      <div class="column is-7">
        <div class="full-info">
          {{ .Content }}
        </div>
      </div>
      <div class="column is-2">
        <div class="right-sidebar-area">
          <!-- search item -->
          <div class="search-area">
            <form action="#">
              <input id="acSearch" type="text" placeholder="Search..." />
              <button class="search-button">
                <i class="fa fa-search" aria-hidden="true"></i>
              </button>
            </form>
          </div>
          <!-- search item end -->

          <!-- table of contents area start -->
          <div class="tbl-of-contents">
            <h4>What's on this Page</h4>
            {{.TableOfContents}}
          </div>
          <!-- table of contents area end -->
        </div>
      </div>
    </div>
  </div>
  <script>
    // kd version dropdown js
    var kdDropdown = document.querySelector(".dropdown");
    var kdDropdownBtn = document.querySelector(".dropdown-trigger");
      kdDropdownBtn.addEventListener("click", function(){
        kdDropdown.classList.toggle("is-active");
      })
  </script>
</div>
<!-- documentation area end -->

<!-- sidebar search area start -->

<!-- overlay start -->
<div class="overlay-bg"></div>
<!-- overlay end -->

<div class="sidebar-search-area">
  <div class="search-area-top">
    <h3>Search</h3>

    <div class="searchbar-area">
      <input type="search" name="search" id="" placeholder="Search here" />
      <button><i class="fa fa-search" aria-hidden="true"></i></button>
    </div>

    <div class="search-meta-information level">
      <div class="level-left">
        <p>
          About <span class="search-count">63</span> results (<span
            class="time-count"
            >0.56 </span
          >seconds)
        </p>
      </div>
      <div class="level-right">
        <div class="shorting-data">
          <label for="filter-short">Short by:</label>
          <select name="filter-short" id="filter-short">
            <option value="1">Date</option>
            <option value="2">Time</option>
            <option value="3">Year</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <div class="search-result-wrapper">
    <!-- single search result start -->
    <div class="single-search-result">
      <h3><a href="#">PostgreSQL | AppsCode Service Broker</a></h3>
      <a href="#"
        >https://appscode.com/products/service-broker/0.1.0/.../postgres/</a
      >
      <div class="result-description-wrapper">
        <div class="result-thumb">
          <img src="/src/assets/images/search-images/1.png" alt="" />
        </div>
        <div class="result-description">
          <p>
            This tutorial will show you how to use AppsCode Service Broker
            to provision and deprovision an PostgreSQL cluster and bind to
            the PostgreSQL service.
          </p>
        </div>
      </div>
    </div>
    <!-- single search result end -->

    <!-- single search result start -->
    <div class="single-search-result">
      <h3><a href="#">PostgreSQL | AppsCode Service Broker</a></h3>
      <a href="#"
        >https://appscode.com/products/service-broker/0.1.0/.../postgres/</a
      >
      <div class="result-description-wrapper">
        <div class="result-thumb">
          <img src="/src/assets/images/search-images/2.png" alt="" />
        </div>
        <div class="result-description">
          <p>
            This tutorial will show you how to use AppsCode Service Broker
            to provision and deprovision an PostgreSQL cluster and bind to
            the PostgreSQL service.
          </p>
        </div>
      </div>
    </div>
    <!-- single search result end -->

    <!-- single search result start -->
    <div class="single-search-result">
      <h3><a href="#">PostgreSQL | AppsCode Service Broker</a></h3>
      <a href="#"
        >https://appscode.com/products/service-broker/0.1.0/.../postgres/</a
      >
      <div class="result-description-wrapper">
        <div class="result-thumb">
          <img src="/src/assets/images/search-images/3.png" alt="" />
        </div>
        <div class="result-description">
          <p>
            This tutorial will show you how to use AppsCode Service Broker
            to provision and deprovision an PostgreSQL cluster and bind to
            the PostgreSQL service.
          </p>
        </div>
      </div>
    </div>
    <!-- single search result end -->

    <!-- single search result start -->
    <div class="single-search-result">
      <h3><a href="#">PostgreSQL | AppsCode Service Broker</a></h3>
      <a href="#"
        >https://appscode.com/products/service-broker/0.1.0/.../postgres/</a
      >
      <div class="result-description-wrapper">
        <div class="result-thumb">
          <img src="/src/assets/images/search-images/1.png" alt="" />
        </div>
        <div class="result-description">
          <p>
            This tutorial will show you how to use AppsCode Service Broker
            to provision and deprovision an PostgreSQL cluster and bind to
            the PostgreSQL service.
          </p>
        </div>
      </div>
    </div>
    <!-- single search result end -->

    <!-- single search result start -->
    <div class="single-search-result">
      <h3><a href="#">PostgreSQL | AppsCode Service Broker</a></h3>
      <a href="#"
        >https://appscode.com/products/service-broker/0.1.0/.../postgres/</a
      >
      <div class="result-description-wrapper">
        <div class="result-thumb">
          <img src="/src/assets/images/search-images/2.png" alt="" />
        </div>
        <div class="result-description">
          <p>
            This tutorial will show you how to use AppsCode Service Broker
            to provision and deprovision an PostgreSQL cluster and bind to
            the PostgreSQL service.
          </p>
        </div>
      </div>
    </div>
    <!-- single search result end -->

    <!-- single search result start -->
    <div class="single-search-result">
      <h3><a href="#">PostgreSQL | AppsCode Service Broker</a></h3>
      <a href="#"
        >https://appscode.com/products/service-broker/0.1.0/.../postgres/</a
      >
      <div class="result-description-wrapper">
        <div class="result-thumb">
          <img src="/src/assets/images/search-images/3.png" alt="" />
        </div>
        <div class="result-description">
          <p>
            This tutorial will show you how to use AppsCode Service Broker
            to provision and deprovision an PostgreSQL cluster and bind to
            the PostgreSQL service.
          </p>
        </div>
      </div>
    </div>
    <!-- single search result end -->

    <!-- single search result start -->
    <div class="single-search-result">
      <h3><a href="#">PostgreSQL | AppsCode Service Broker</a></h3>
      <a href="#"
        >https://appscode.com/products/service-broker/0.1.0/.../postgres/</a
      >
      <div class="result-description-wrapper">
        <div class="result-thumb">
          <img src="/src/assets/images/db-logo/sql.png" alt="" />
        </div>
        <div class="result-description">
          <p>
            This tutorial will show you how to use AppsCode Service Broker
            to provision and deprovision an PostgreSQL cluster and bind to
            the PostgreSQL service.
          </p>
        </div>
      </div>
    </div>
    <!-- single search result end -->

    <!-- single search result start -->
    <div class="single-search-result">
      <h3><a href="#">PostgreSQL | AppsCode Service Broker</a></h3>
      <a href="#"
        >https://appscode.com/products/service-broker/0.1.0/.../postgres/</a
      >
      <div class="result-description-wrapper">
        <div class="result-thumb">
          <img src="/src/assets/images/search-images/1.png" alt="" />
        </div>
        <div class="result-description">
          <p>
            This tutorial will show you how to use AppsCode Service Broker
            to provision and deprovision an PostgreSQL cluster and bind to
            the PostgreSQL service.
          </p>
        </div>
      </div>
    </div>
    <!-- single search result end -->
  </div>

  <!-- pagination area start -->
  <div class="pagination-area">
    <div class="pagination-list">
      <ul>
        <li><a href="#">Previous</a></li>
        <li><a class="is-active" href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">...</a></li>
        <li><a href="#">10</a></li>
        <li><a href="#">11</a></li>
        <li><a href="#">Next</a></li>
      </ul>
    </div>
  </div>
  <!-- pagination area end -->
</div>

<script type="text/javascript">
  var acSearch = document.querySelector("#acSearch");
  var bodyOverlay = document.querySelector(".overlay-bg");
  var sidebarSearch = document.querySelector(".sidebar-search-area");

  acSearch.addEventListener("click", function() {
    bodyOverlay.style.display = "block";
    sidebarSearch.style.right = "0";
    bodyOverlay.addEventListener("click", function() {
      bodyOverlay.style.display = "none";
      sidebarSearch.style.right = "-50%";
    });
  });
</script>
<!-- sidebar search area end -->

{{ end }}

{{ define "testimonial" }}
<section></section>
{{ end }}


{{ define "customer-logos" }}
<section></section>
{{ end }}

{{ define "cta-install" }}
<section></section>
{{ end }}
