{{ define "header" }}

{{ $currentPage := . }}
{{ $menu := .Params.menu_name }}

<!-- header area start -->
<header>
  <!-- header bottom area start -->
  <div class="header-bottom-area header-area documentation-page" id="header">
    <div class="container section">
      <nav class="navbar">
        <div class="navbar-brand">
          <a class="navbar-item" href="./../index.html">
            <img src="/assets/images/logo-color-kube.png" alt="" />
          </a>

          <a
            role="button"
            class="navbar-burger burger"
            aria-label="menu"
            aria-expanded="false"
            data-target="acNav"
          >
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>

        <div id="acNav" class="navbar-menu main-menu">
          <div class="navbar-end">
            <!-- nav menu start -->
            <div class="navbar-start">
              <a href="./../pricing/index.html" class="navbar-item">
                Commercial Support
              </a>

              <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link">
                  Database
                </a>

                <div class="navbar-dropdown">
                  <a class="navbar-item">
                    Item-1
                  </a>
                  <a class="navbar-item">
                    Item-2
                  </a>
                  <a class="navbar-item">
                    Item-3
                  </a>
                  <hr class="navbar-divider" />
                  <a class="navbar-item">
                    Item-4
                  </a>
                </div>
              </div>

              <a href="../documentations/welcome.html" class="navbar-item">
                Documentation
              </a>
              <a class="navbar-item">
                v 0.110
              </a>
              <a class="navbar-item">
                Community
              </a>
            </div>
            <!-- nav menu end -->
            <div class="navbar-item">
              <div class="buttons main-menu-button">
                <a class="button is-small">
                  <span><i class="fa fa-github" aria-hidden="true"></i></span
                  >Star
                </a>
                <div class="star-count">
                  565
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <!-- documentation menu area start -->
    <div class="documentation-menu">
      <div class="container section">
        <div class="columns is-centered">
          <div class="column is-half has-text-centered">
            <!-- responsive menu start -->
            <div class="responsive-menu">
              <a
                role="button"
                class="navbar-burger burger"
                aria-label="menu"
                aria-expanded="false"
                data-target="acNav3"
              >
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
              </a>
            </div>
            <!-- responsive menu end -->
            <!-- start -->
            <nav class="documentation-navbar">
              <div id="acNav3" class="navbar-menu nav-menu main-menu">
                <div class="navbar-centered">
                  <!-- nav menu start -->
                  <div class="navbar-start">
                    {{ $sectionMenuId := .Params.section_menu_id }}
                    {{ if isset .Params "menu_name" }}
                      {{ range (index .Site.Menus .Params.menu_name) }}
                        {{ if eq (string .Pre) "dropdown" }}
                          <div class="navbar-item has-dropdown is-hoverable">
                            <a class="navbar-link">
                              {{ .Name }}
                            </a>
                            <div class="navbar-dropdown">
                              {{ range .Children }}
                                {{ if ne .Weight -1 }}
                                  <a href="{{ .URL }}" class="navbar-item">{{ .Name }}</a>
                                {{ end }}
                              {{ end }}
                            </div>
                          </div>
                        {{ else }}
                          <a href="{{ .URL }}" class="{{ if eq $sectionMenuId .Identifier }} is-active {{ end }} navbar-item">{{ .Name }}</a>
                        {{ end }}
                      {{ end }}
                    {{ end }}
                  </div>
                  <!-- nav menu end -->
                </div>
              </div>
            </nav>
            <!-- end -->
          </div>
        </div>
      </div>
    </div>
    <!-- documentation menu area end -->
  </div>
  <!-- header bottom area end -->
</header>
<!-- header area end -->
{{ end }}

{{ define "main" }}

{{ $currentPage := . }}
{{ $menu := .Params.menu_name }}
{{ $productJson := (index $.Site.Data.products.products "docs" ) }}

<!-- init idx -->
{{ .Scratch.Add "idx" 0 }}

<!-- documentation area start -->
<div class="documentation-area">
  <div class="container section">
    <div class="columns">
      <div class="column is-3">
        <!-- left sidebar area start -->
        <div class="kd-left-sidebar">
          <div class="kd-version">
            <!-- <p><span><i class="fa fa-sliders" aria-hidden="true"></i></span> 0.11.0</p> -->
            <div class="control has-icons-left">
              <div class="select">
                {{ $currentBranch := (index (split .Params.menu_name "_") 1) }}
                {{ $versions := (index $productJson "versions" ) }}
                <select>
                  {{ range $version := $versions }}
                    {{ $branch := (index $version "branch") }}
                    {{ if (index $version "v-dropdown") }}
                      {{ if (index $version "hostDocs") }}
                        <option {{ if eq $branch $currentBranch }} selected {{ end }}>{{ $branch }}</option>
                      {{ else }}
                        <option>{{ $branch }}</option>
                      {{ end }}
                    {{ end }}
                  {{ end }}
                </select>
              </div>
              <span class="icon is-left">
                <i class="fa fa-globe"></i>
              </span>
            </div>
          </div>

          {{ if isset .Params "menu_name" }}
            {{ $sectionMenuId := .Params.section_menu_id }}
            {{ range (index .Site.Menus .Params.menu_name) }}
              {{ if eq $sectionMenuId .Identifier }}
                {{ if .HasChildren }}
                  {{ $hasPreDropdown := eq (string .Pre) "dropdown" }}

                  {{ $.Scratch.Set "leftMenuHeadline" .Name }}
                  {{ range .Children }}
                    {{ if and ( and .HasChildren $hasPreDropdown) ($currentPage.HasMenuCurrent $menu .)  }}

                      {{ $.Scratch.Set "leftMenuHeadline" .Name }}

                    {{ end }}
                  {{ end }}
                {{ end }}
              {{ end }}
            {{ end }}
          {{ end }}

          <!-- sidebar menu start -->
          <div class="kd-sidebar-menu">
            {{ if isset .Params "menu_name" }}
              {{ $sectionMenuId := .Params.section_menu_id }}

              <!-- first child -> section menu -->
              {{ range (index .Site.Menus .Params.menu_name ) }}

                {{ if eq $sectionMenuId .Identifier }}
                  {{ $hasPreDropdown := eq (string .Pre) "dropdown" }}

                  <!-- second child -> left menu level 1-->
                  {{ range .Children }}

                    {{ if .HasChildren }}
                      {{ if $hasPreDropdown }}
                        {{ if $currentPage.HasMenuCurrent $menu . }}

                            {{ range .Children }}
                              {{ if .HasChildren }}
                                {{ partial "menu/group.html" (dict "uid" $.File.UniqueID "page" $currentPage "menu" $menu "entry" .) }}
                              {{ else }}
                                {{ partial "menu/leaf.html" (dict "uid" $.File.UniqueID "page" $currentPage "menu" $menu "entry" .) }}
                              {{ end }}
                            {{ end }}

                        {{ end }}
                      {{ else }}
                        {{ partial "menu/group.html" (dict "uid" $.File.UniqueID "page" $currentPage "menu" $menu "entry" .) }}
                      {{ end }}

                    {{ else }}
                      {{ partial "menu/leaf.html" (dict "uid" $.File.UniqueID "page" $currentPage "menu" $menu "entry" .) }}
                    {{ end }}
                    <!-- end of menu item rendering -->
                  {{ end }}
                  <!-- end second child -> left level 1-->

                {{ end }}
              {{ end }}
              <!-- end first child -> section menu -->
            {{ end }}
          </div>
          <!-- sidebar menu end -->
        </div>
        <!-- left sidebar area end -->
      </div>
      <div class="column is-7">
        <div class="full-info">
          {{ .Content }}
        </div>
      </div>
      <div class="column is-2">
        <div class="right-sidebar-area">
          <!-- search item -->
          <div class="search-area">
            <form action="#">
              <input type="text" placeholder="Search..." />
              <button class="search-button">
                <i class="fa fa-search" aria-hidden="true"></i>
              </button>
            </form>
          </div>
          <!-- search item end -->

          <!-- table of contents area start -->
          <div class="tbl-of-contents">
            <h4>What's on this Page</h4>
            {{.TableOfContents}}
          </div>
          <!-- table of contents area end -->
        </div>
      </div>
    </div>
  </div>
</div>
<!-- documentation area end -->
{{ end }}

{{ define "testimonial" }}
<section></section>
{{ end }}

{{ define "customer-logos" }}
<section></section>
{{ end }}
