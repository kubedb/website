<section class="how-its-work-section section-padding">
    <div class="container">
        <div class="section-title has-text-centered mb-32">
            <!-- Badge -->
            <div class="section-badge">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="16" y="16" width="6" height="6" rx="1"></rect>
                    <rect x="2" y="16" width="6" height="6" rx="1"></rect>
                    <rect x="9" y="2" width="6" height="6" rx="1"></rect>
                    <path d="M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"></path>
                    <path d="M12 12V8"></path>
                </svg>
                <span>Technical Architecture</span>
            </div>

            <!-- Title -->
            <div class="section-title">
                <h2> Enterprise-grade <span class="text-gradient">architecture</span></h2>
                <p>Built on Kubernetes operators with production-tested patterns for reliability, security, and
                    performance</p>
            </div>
        </div>

        <!-- Architecture Cards Grid -->
        <div class="architecture-grid">
            <!-- Card 1: Kubernetes Native -->
            <div class="architecture-card">
                <div class="arch-content">
                    <div class="arch-icon purple">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect width="20" height="8" x="2" y="2" rx="2" ry="2"></rect>
                            <rect width="20" height="8" x="2" y="14" rx="2" ry="2"></rect>
                            <line x1="6" x2="6.01" y1="6" y2="6"></line>
                            <line x1="6" x2="6.01" y1="18" y2="18"></line>
                        </svg>
                    </div>
                    <h3 class="arch-title">Kubernetes Native</h3>
                    <p class="arch-description">
                        Built as a Kubernetes operator using custom resource definitions (CRDs)
                    </p>
                    <div class="arch-features">
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #a855f7, #7c3aed)"></div>
                            <span>Declarative configuration</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #a855f7, #7c3aed)"></div>
                            <span>GitOps ready</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #a855f7, #7c3aed)"></div>
                            <span>Auto-reconciliation</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #a855f7, #7c3aed)"></div>
                            <span>Native RBAC</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 2: Security First -->
            <div class="architecture-card">
                <div class="arch-content">
                    <div class="arch-icon cyan">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z">
                            </path>
                        </svg>
                    </div>
                    <h3 class="arch-title">Security First</h3>
                    <p class="arch-description">
                        Enterprise security with TLS, encryption, network policies, and pod security standards
                    </p>
                    <div class="arch-features">
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #06b6d4, #0891b2)"></div>
                            <span>TLS/SSL encryption</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #06b6d4, #0891b2)"></div>
                            <span>Network isolation</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #06b6d4, #0891b2)"></div>
                            <span>Secret management</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #06b6d4, #0891b2)"></div>
                            <span>Audit logging</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 3: High Availability -->
            <div class="architecture-card">
                <div class="arch-content">
                    <div class="arch-icon pink">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2">
                            </path>
                        </svg>
                    </div>
                    <h3 class="arch-title">High Availability</h3>
                    <p class="arch-description">
                        Multi-zone deployments with automatic failover and zero-downtime operations
                    </p>
                    <div class="arch-features">
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #ec4899, #db2777)"></div>
                            <span>Multi-AZ support</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #ec4899, #db2777)"></div>
                            <span>Auto-failover</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #ec4899, #db2777)"></div>
                            <span>Rolling updates</span>
                        </div>
                        <div class="feature-item">
                            <div class="feature-dot" style="background: linear-gradient(90deg, #ec4899, #db2777)"></div>
                            <span>Health monitoring</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- How It Works Section -->
        <div class="how-it-works-container">
            <div class="how-it-works-grid">
                <!-- Left: Steps -->
                <div class="steps-container">
                    <h3 class="steps-title">How It Works</h3>
                    <div class="steps-list">
                        <!-- Step 1 -->
                        <div class="step-item">
                            <div class="step-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"></path>
                                </svg>
                            </div>
                            <div class="step-content">
                                <h4 class="step-title">Deploy Anywhere</h4>
                                <p class="step-description">
                                    Works with EKS, GKE, AKS, OpenShift, and on-premises Kubernetes clusters
                                </p>
                            </div>
                        </div>

                        <!-- Step 2 -->
                        <div class="step-item">
                            <div class="step-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
                                    <path d="M3 5V19A9 3 0 0 0 21 19V5"></path>
                                    <path d="M3 12A9 3 0 0 0 21 12"></path>
                                </svg>
                            </div>
                            <div class="step-content">
                                <h4 class="step-title">Unified API</h4>
                                <p class="step-description">
                                    Single consistent API for all 30+ databases, simplifying operations and training
                                </p>
                            </div>
                        </div>

                        <!-- Step 3 -->
                        <div class="step-item">
                            <div class="step-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path
                                        d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2">
                                    </path>
                                </svg>
                            </div>
                            <div class="step-content">
                                <h4 class="step-title">Continuous Operations</h4>
                                <p class="step-description">
                                    Automated backups, monitoring, scaling, and recovery without manual intervention
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: Animated Diagram -->
                <div class="diagram-container">
                    <div class="animated-diagram">
                        <div class="diagram-bg"></div>
                        <div class="diagram-content">
                            <div class="diagram-node">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"></path>
                                </svg>
                            </div>
                            <div class="diagram-connector"></div>
                            <div class="diagram-node">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <rect x="16" y="16" width="6" height="6" rx="1"></rect>
                                    <rect x="2" y="16" width="6" height="6" rx="1"></rect>
                                    <rect x="9" y="2" width="6" height="6" rx="1"></rect>
                                    <path d="M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"></path>
                                    <path d="M12 12V8"></path>
                                </svg>
                            </div>
                            <div class="diagram-connector"></div>
                            <div class="diagram-node">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
                                    <path d="M3 5V19A9 3 0 0 0 21 19V5"></path>
                                    <path d="M3 12A9 3 0 0 0 21 12"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    // How Its Work - Enhanced Interactions
    (function () {
        'use strict';



        // Add interactive hover effects to architecture cards
        function initCardInteractions() {
            const cards = document.querySelectorAll('.architecture-card');

            cards.forEach(card => {
                card.addEventListener('mouseenter', function () {
                    // Subtle scale animation on features
                    const features = this.querySelectorAll('.feature-item');
                    features.forEach((feature, index) => {
                        setTimeout(() => {
                            feature.style.transform = 'translateX(5px)';
                            feature.style.transition = 'transform 0.3s ease';
                        }, index * 50);
                    });
                });

                card.addEventListener('mouseleave', function () {
                    const features = this.querySelectorAll('.feature-item');
                    features.forEach(feature => {
                        feature.style.transform = 'translateX(0)';
                    });
                });
            });
        }

        // Add interactive step highlighting
        function initStepInteractions() {
            const steps = document.querySelectorAll('.step-item');

            steps.forEach((step, index) => {
                step.addEventListener('mouseenter', function () {
                    this.querySelector('.step-icon').style.transform = 'scale(1.1) rotate(5deg)';
                    this.querySelector('.step-icon').style.boxShadow = '0 8px 16px hsla(var(--primary-h), 70%, 50%, 0.3)';
                });

                step.addEventListener('mouseleave', function () {
                    this.querySelector('.step-icon').style.transform = '';
                    this.querySelector('.step-icon').style.boxShadow = '';
                });
            });
        }

        // Animate diagram nodes on visibility
        function initDiagramAnimation() {
            const diagram = document.querySelector('.animated-diagram');
            if (!diagram) return;

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const nodes = diagram.querySelectorAll('.diagram-node');
                        nodes.forEach((node, index) => {
                            setTimeout(() => {
                                node.style.opacity = '1';
                                node.style.transform = 'scale(1)';
                            }, index * 300);
                        });
                    }
                });
            }, {
                threshold: 0.3
            });

            // Initially hide nodes
            const nodes = diagram.querySelectorAll('.diagram-node');
            nodes.forEach(node => {
                node.style.opacity = '0';
                node.style.transform = 'scale(0.8)';
                node.style.transition = 'all 0.5s ease';
            });

            observer.observe(diagram);
        }

        // Add click ripple effect to cards
        function initRippleEffect() {
            const cards = document.querySelectorAll('.architecture-card');

            cards.forEach(card => {
                card.addEventListener('click', function (e) {
                    const ripple = document.createElement('span');
                    const rect = this.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;

                    ripple.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    border-radius: 50%;
                    background: radial-gradient(circle, rgba(139, 92, 246, 0.2) 0%, transparent 70%);
                    left: ${x}px;
                    top: ${y}px;
                    pointer-events: none;
                    animation: ripple 0.6s ease-out;
                    z-index: 0;
                `;

                    this.appendChild(ripple);
                    setTimeout(() => ripple.remove(), 600);
                });
            });
        }

        // Initialize all effects
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                initScrollAnimations();
                initCardInteractions();
                initStepInteractions();
                initDiagramAnimation();
                initRippleEffect();
            });
        } else {
            initScrollAnimations();
            initCardInteractions();
            initStepInteractions();
            initDiagramAnimation();
            initRippleEffect();
        }
    })();
</script>